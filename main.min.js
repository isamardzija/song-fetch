function potrazi() {
  let e;
  clearTimeout(e),
    searchField.value.length > 1 && (e = setTimeout(() => dohvati(), 1e3));
}
async function dohvati() {
  let e = document.querySelector("#searchField"),
    t = document.querySelector("#resultsContainer"),
    a = document.querySelector("#loading"),
    r = document.querySelector("#errorMessage"),
    i = e.value;
  r.classList.add("hide"), (t.innerHTML = ""), a.classList.remove("hide");
  try {
    let l = await (
      await fetch(`https://itunes.apple.com/search?term=${i}`)
    ).json();
    setTimeout(() => {
      0 === l.resultCount
        ? (a.classList.toggle("hide"), r.classList.remove("hide"))
        : (a.classList.add("hide"),
          l.results.forEach((e, a) => {
            setTimeout(() => {
              let a = document.createElement("li"),
                r = document.createElement("a"),
                i = document.createElement("img");
              (r.innerHTML = `<strong>${e.artistName}</strong> - ${e.trackName}`),
                (r.href = e.trackViewUrl),
                (i.src = e.artworkUrl100),
                t.appendChild(a),
                a.appendChild(i),
                a.appendChild(r);
            }, 30 * a);
          }));
    }, 500);
  } catch (s) {
    console.log("Dogodila se pogre≈°ka: ", s);
  }
}
searchField.addEventListener("input", potrazi);
